{"elapsed_time": 9.781101942062378, "generated_at": "2019-05-21T15:07:33.266627Z", "results": [{"node": {"package_name": "gdelt", "depends_on": {"macros": [], "nodes": []}, "refs": [], "raw_sql": "--Spotify directly referenced in Source URLs; base model\r\n\r\n{{ config(materialized='view') }}\r\n\r\nselect * \r\nfrom GLOBAL_EVENT_V2\r\nwhere lower(SOURCEURL) like '%spotify%'", "sources": [], "unique_id": "model.gdelt.base_spotify_in_url", "config": {"vars": {}, "post-hook": [], "materialized": "view", "quoting": {}, "tags": [], "enabled": true, "pre-hook": [], "column_types": {}}, "empty": false, "schema": "GDELT_RAW", "injected_sql": "--Spotify directly referenced in Source URLs; base model\n\n\n\nselect * \nfrom GLOBAL_EVENT_V2\nwhere lower(SOURCEURL) like '%spotify%'", "description": "", "tags": [], "compiled": true, "wrapped_sql": "None", "path": "base/base_spotify_in_url.sql", "build_path": "target/compiled/gdelt/base/base_spotify_in_url.sql", "fqn": ["gdelt", "base", "base_spotify_in_url"], "name": "base_spotify_in_url", "original_file_path": "models/base/base_spotify_in_url.sql", "database": "SB_HACKATHON_DB_TEAM1", "extra_ctes_injected": true, "root_path": "/mnt/c/Users/vanna.trieu/Documents/dbt_projects/gdelt", "compiled_sql": "--Spotify directly referenced in Source URLs; base model\n\n\n\nselect * \nfrom GLOBAL_EVENT_V2\nwhere lower(SOURCEURL) like '%spotify%'", "alias": "base_spotify_in_url", "columns": {}, "extra_ctes": [], "resource_type": "model"}, "status": "SUCCESS 1", "execution_time": 0.7731409072875977, "skip": false, "thread_id": "Thread-1", "error": null, "timing": [{"completed_at": "2019-05-21T15:07:29.716717Z", "started_at": "2019-05-21T15:07:29.712323Z", "name": "compile"}, {"completed_at": "2019-05-21T15:07:30.485211Z", "started_at": "2019-05-21T15:07:29.716821Z", "name": "execute"}], "fail": null}, {"node": {"package_name": "gdelt", "depends_on": {"macros": [], "nodes": []}, "refs": [], "raw_sql": "-- Welcome to your first dbt model!\r\n-- Did you know that you can also configure models directly within\r\n-- the SQL file? This will override configurations stated in dbt_project.yml\r\n\r\n-- Try changing 'view' to 'table', then re-running dbt\r\n{{ config(materialized='view') }}\r\n\r\n\r\nselect * from SPOTIFY_STOCK_DATA", "sources": [], "unique_id": "model.gdelt.base_spotify_stock_data", "config": {"vars": {}, "post-hook": [], "materialized": "view", "quoting": {}, "tags": [], "enabled": true, "pre-hook": [], "column_types": {}}, "empty": false, "schema": "GDELT_RAW", "injected_sql": "-- Welcome to your first dbt model!\n-- Did you know that you can also configure models directly within\n-- the SQL file? This will override configurations stated in dbt_project.yml\n\n-- Try changing 'view' to 'table', then re-running dbt\n\n\n\nselect * from SPOTIFY_STOCK_DATA", "description": "", "tags": [], "compiled": true, "wrapped_sql": "None", "path": "base/base_spotify_stock_data.sql", "build_path": "target/compiled/gdelt/base/base_spotify_stock_data.sql", "fqn": ["gdelt", "base", "base_spotify_stock_data"], "name": "base_spotify_stock_data", "original_file_path": "models/base/base_spotify_stock_data.sql", "database": "SB_HACKATHON_DB_TEAM1", "extra_ctes_injected": true, "root_path": "/mnt/c/Users/vanna.trieu/Documents/dbt_projects/gdelt", "compiled_sql": "-- Welcome to your first dbt model!\n-- Did you know that you can also configure models directly within\n-- the SQL file? This will override configurations stated in dbt_project.yml\n\n-- Try changing 'view' to 'table', then re-running dbt\n\n\n\nselect * from SPOTIFY_STOCK_DATA", "alias": "base_spotify_stock_data", "columns": {}, "extra_ctes": [], "resource_type": "model"}, "status": "SUCCESS 1", "execution_time": 1.0063059329986572, "skip": false, "thread_id": "Thread-1", "error": null, "timing": [{"completed_at": "2019-05-21T15:07:30.653150Z", "started_at": "2019-05-21T15:07:30.647941Z", "name": "compile"}, {"completed_at": "2019-05-21T15:07:31.653556Z", "started_at": "2019-05-21T15:07:30.653249Z", "name": "execute"}], "fail": null}, {"node": {"package_name": "gdelt", "depends_on": {"macros": [], "nodes": ["model.gdelt.base_spotify_stock_data", "model.gdelt.xf_spotify_date"]}, "refs": [["base_spotify_stock_data"], ["xf_spotify_date"]], "raw_sql": "--aggregating xf_spotify_date\r\n\r\n{{ config(materialized='view') }}\r\n\r\nwith SPOTIFY_STOCK_DATA as \r\n(\r\n    select * from {{ref('base_spotify_stock_data')}}\r\n),\r\n\r\nSPOTIFY_STOCK_DATE as\r\n(\r\n    select * from {{ref('xf_spotify_date')}}\r\n)\r\n\r\nselect \r\n      Date_Added\r\n    , Spotify\r\n    , avg(GoldsteinScale) as Avg_GoldensteinScale\r\n    , avg(NumArticles) as Avg_Articles\r\n    , avg(AvgTone) as Avg_Tone\r\n    , avg(Open) as \"Open\"\r\n    , avg(Close) as \"Close\"\r\nfrom SPOTIFY_STOCK_DATE DT  left join SPOTIFY_STOCK_DATA DTA on DT.Date_Added = DTA.\"Date\"\r\ngroup by Date_Added, Spotify \r\norder by Date_added asc", "sources": [], "unique_id": "model.gdelt.xf_spotify_aggregated", "config": {"vars": {}, "post-hook": [], "materialized": "view", "quoting": {}, "tags": [], "enabled": true, "pre-hook": [], "column_types": {}}, "empty": false, "schema": "GDELT_RAW", "injected_sql": "--aggregating xf_spotify_date\n\n\n\nwith  __dbt__CTE__xf_spotify_date as (\n--Reformatting dates; xf\n\n-- configuring this model as ephemeral so that it doesn't get materialized in the db\n\n\n\nselect \n      to_timestamp_ntz(cast(DATEADDED as string), 'YYYYMMDD HH24MISS') as Date_Added\n    , GoldsteinScale\n    , NumArticles\n    , AvgTone\n    , 'Spotify Mention' as Spotify\n    , SourceURL\nfrom SB_HACKATHON_DB_TEAM1.GDELT_RAW.base_spotify_in_url --using ref() functions, dbt understands dependencies between models and creates DAGs in  proper order \nwhere NumArticles is not null and NumMentions is not null and AvgTone is not null\norder by dateadded asc\n),SPOTIFY_STOCK_DATA as \n(\n    select * from SB_HACKATHON_DB_TEAM1.GDELT_RAW.base_spotify_stock_data\n),\n\nSPOTIFY_STOCK_DATE as\n(\n    select * from __dbt__CTE__xf_spotify_date\n)\n\nselect \n      Date_Added\n    , Spotify\n    , avg(GoldsteinScale) as Avg_GoldensteinScale\n    , avg(NumArticles) as Avg_Articles\n    , avg(AvgTone) as Avg_Tone\n    , avg(Open) as \"Open\"\n    , avg(Close) as \"Close\"\nfrom SPOTIFY_STOCK_DATE DT  left join SPOTIFY_STOCK_DATA DTA on DT.Date_Added = DTA.\"Date\"\ngroup by Date_Added, Spotify \norder by Date_added asc", "description": "", "tags": [], "compiled": true, "wrapped_sql": "None", "path": "xf/xf_spotify_aggregated.sql", "build_path": "target/compiled/gdelt/xf/xf_spotify_aggregated.sql", "fqn": ["gdelt", "xf", "xf_spotify_aggregated"], "name": "xf_spotify_aggregated", "original_file_path": "models/xf/xf_spotify_aggregated.sql", "database": "SB_HACKATHON_DB_TEAM1", "extra_ctes_injected": true, "root_path": "/mnt/c/Users/vanna.trieu/Documents/dbt_projects/gdelt", "compiled_sql": "--aggregating xf_spotify_date\n\n\n\nwith SPOTIFY_STOCK_DATA as \n(\n    select * from SB_HACKATHON_DB_TEAM1.GDELT_RAW.base_spotify_stock_data\n),\n\nSPOTIFY_STOCK_DATE as\n(\n    select * from __dbt__CTE__xf_spotify_date\n)\n\nselect \n      Date_Added\n    , Spotify\n    , avg(GoldsteinScale) as Avg_GoldensteinScale\n    , avg(NumArticles) as Avg_Articles\n    , avg(AvgTone) as Avg_Tone\n    , avg(Open) as \"Open\"\n    , avg(Close) as \"Close\"\nfrom SPOTIFY_STOCK_DATE DT  left join SPOTIFY_STOCK_DATA DTA on DT.Date_Added = DTA.\"Date\"\ngroup by Date_Added, Spotify \norder by Date_added asc", "alias": "xf_spotify_aggregated", "columns": {}, "extra_ctes": [{"id": "model.gdelt.xf_spotify_date", "sql": " __dbt__CTE__xf_spotify_date as (\n--Reformatting dates; xf\n\n-- configuring this model as ephemeral so that it doesn't get materialized in the db\n\n\n\nselect \n      to_timestamp_ntz(cast(DATEADDED as string), 'YYYYMMDD HH24MISS') as Date_Added\n    , GoldsteinScale\n    , NumArticles\n    , AvgTone\n    , 'Spotify Mention' as Spotify\n    , SourceURL\nfrom SB_HACKATHON_DB_TEAM1.GDELT_RAW.base_spotify_in_url --using ref() functions, dbt understands dependencies between models and creates DAGs in  proper order \nwhere NumArticles is not null and NumMentions is not null and AvgTone is not null\norder by dateadded asc\n)"}], "resource_type": "model"}, "status": "SUCCESS 1", "execution_time": 0.9886529445648193, "skip": false, "thread_id": "Thread-1", "error": null, "timing": [{"completed_at": "2019-05-21T15:07:31.863640Z", "started_at": "2019-05-21T15:07:31.852916Z", "name": "compile"}, {"completed_at": "2019-05-21T15:07:32.841349Z", "started_at": "2019-05-21T15:07:31.863811Z", "name": "execute"}], "fail": null}]}